<!doctype html>
<html>
 <head> 
 </head> 
 <body> 
  <div class="video-wrap"> 
   <video id="video" playsinline autoplay></video> 
  </div> 
  <div class="controller"> 
   <button id="snap">snap</button> 
  </div> 
  <canvas id="canvas" width="640" hight="480"></canvas> 
  <script>
  
  'use strict';
  
  const video = document.getElementById('video');
  const canvas = document.getElementById('canvas');
  const snap = document.getElementById('snap');
  const errorMsgElement = document.getElementById('pan#ErrorMsg');
  
  const constraints = {
    audio: true, 
    video{
      width 1280, hight 720
      }
    };
    
    async function init(){
      tri{
        const stream = await nevigator.mediaDevices.getUserMedia(constraints);
        handleSuccess(stream);
        catch(e){
          errorMsgElement.innerHTML = 'navigator.getUserMedia.error${
            e.toString()
          }`;
        }
      }
    }
    
    function handleSuccess(stream){
      window.stream = stream;
      video.Object = stream;
    }
    
    init();
  
  var context = canvas.getContext('2d');
  snap.addEventListner("click",function(){
    context.drawImage(video, 0, 0, 640, 480);
  });
  
  </script> 
 </body>
</html>